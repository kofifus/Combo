function Combo(){"use strict";function k(){return i}function l(){return h}function m(a){for(var d=0;d<h.options.length;d++)if(h.options[d].text===a)return;var e=document.createElement("option");e.text=a,h.add(e,0),h.children.length>c&&h.removeChild(h.children[h.children.length-1])}function n(){var a=arguments.length<=0||void 0===arguments[0]?void 0:arguments[0];if(void 0===a)return h.options;a.constructor!==Array&&(a=[a]);for(var b=h.options.length-1;b>=0;b--)h.remove(b);for(var c=a.length-1;c>=0;c--)m(a[c]);h.selectedIndex=-1}function o(){var a=arguments.length<=0||void 0===arguments[0]?void 0:arguments[0];void 0===a&&(a="none"===b.style.display),b.style.display=a?"block":"none"}function p(){i.focus()}function q(){var a=arguments.length<=0||void 0===arguments[0]||arguments[0];a?i.select():a.setSelectionRange(0,0)}function r(){h.onchange=function(b){b.stopPropagation(),i.value!==h.value&&(i.value=h.value,d&&setTimeout(function(){return d.call(a,b,a)},20))},i.onkeydown=function(b){b.stopPropagation();var c=b.key,f=void 0;if(e&&(f=e.call(a,b,a)),f!==!1&&!b.defaultPrevented)return"Enter"===c?(i.value&&(m(i.value),d&&setTimeout(function(){return d.call(a,b,a)},20)),b.preventDefault()):"ArrowUp"===c?h.selectedIndex>0&&(h.selectedIndex--,i.value=h.value):"ArrowDown"===c&&h.selectedIndex<h.options.length-1&&(h.selectedIndex++,i.value=h.value),!0},i.oninput=function(b){f&&f.call(a,b,a)},i.onclick=function(a){a.stopPropagation()},h.onclick=function(a){a.stopPropagation(),"true"===h.dataset.open?setTimeout(null,function(){i.focus()},0):h.selectedIndex=-1,h.dataset.open="false"===h.dataset.open?"true":"false"},i.onblur=h.onblur=function(b){g&&g.call(a,b,a)}}function s(d){var e=arguments.length<=1||void 0===arguments[1]?5:arguments[1];a=this,b=d,c=e;var f='\n\t\t\t<select style="border: none; outline: none;padding: 0; margin: 0; "></select>\n\t\t\t<input style="border: none; outline: none; padding: 0; margin: 0; position:relative; margin-left: 1px;"/>',g=b.parentElement,j=[].slice.call(g.children).indexOf(b);b.innerHTML=f,b=g.children[j],h=b.children[0],i=b.children[1],b.border||(b.style.border="1px solid");var k=window.getComputedStyle(b),l=Number(k.width.replace(/[^\d\.\-]/g,"")),m=Number(k.height.replace(/[^\d\.\-]/g,""));h.style.width=l-2+"px",h.style.height=m+"px",h.style.fontSize=k.fontSize,h.selectedIndex=-1,h.dataset.open="false",i.style.top="-"+m+"px",i.style.width=l-16+"px",i.style.height=m+"px",i.style.fontSize=k.fontSize,i.focus(),r()}var a=void 0,b=void 0,c=void 0,d=void 0,e=void 0,f=void 0,g=void 0,h=void 0,i=void 0;return{ctor:s,toggle:o,focus:p,select:q,options:n,getInputElement:k,getSelectElement:l,get value(){return i.value},set value(a){i.value=a},set onchange(a){d=a},set oninput(a){f=a},set onkeydown(a){e=a},set onblur(a){g=a}}}
